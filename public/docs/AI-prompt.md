# AI 编程协作提示语框架

作为同时具备提示语工程和全栈开发经验的从业者，我整理了一套经过千次实战验证的「AI编程协作提示语框架」，覆盖从需求分析到上线调试的全流程，每个模板都包含「角色锚定+信息密度+约束条件+输出格式」四要素，直接填空即可复用。

---

## 一、代码生成类提示语（前端/后端/脚本）

**核心逻辑**：让AI明确「做什么+用什么做+做到什么程度」，避免模糊表述导致返工。

### 模板格式

\`\`\`
角色：你是有5年\${技术栈}开发经验的工程师，精通\${框架/库}的最佳实践，熟悉\${相关工具链}。

需求：基于\${业务场景}，实现\${核心功能}，具体包括：

1. 功能点1：\${详细描述，如「用户登录表单验证，包含手机号格式校验和密码强度检测」}
2. 功能点2：\${详细描述，如「调用后端接口获取数据，实现列表分页加载」}
3. 特殊要求：\${如「需兼容IE11」「代码需通过ESLint检查」「时间复杂度不超过O(n log n)」}

技术栈约束：

- 主语言：\${如Python/JavaScript/Java}
- 框架/库：\${如React/Vue/SpringBoot}
- 工具/规范：\${如TypeScript/ES6/RESTful风格}

输出格式：

1. 核心代码（带详细注释，标注关键逻辑）
2. 使用说明（包括依赖安装、调用示例）
3. 潜在优化点（如性能/可读性改进建议）
   \`\`\`

### 示例（前端场景）

> 角色：你是有5年前端开发经验的工程师，精通React Hooks和TypeScript的最佳实践，熟悉Ant Design组件库。
>
> 需求：基于电商平台购物车场景，实现购物车列表组件，具体包括：
>
> 1. 功能点1：展示商品名称、单价、数量（支持±1调整，最低1）、小计金额
> 2. 功能点2：支持单选/全选商品，计算选中商品总价
> 3. 特殊要求：数量变化时添加动画效果，空购物车时显示引导图
>
> 技术栈约束：React 18 + TypeScript + Ant Design 5

---

## 二、调试排错类提示语（报错/逻辑问题）

**核心逻辑**：提供「上下文+错误现象+已尝试方案」，让AI快速定位根因，避免无效猜测。

### 模板格式

\`\`\`
角色：你是\${技术领域}的调试专家，擅长解决\${具体技术}的疑难问题，熟悉\${相关环境}的配置细节。

问题场景：

- 操作步骤：\${复现问题的具体步骤，如「调用/login接口时，传入手机号=13800138000&password=123456」}
- 错误表现：\${错误信息/异常现象，如「控制台报错401 Unauthorized，响应体为{code:403,msg:"token失效"}」}
- 当前环境：\${如「Node.js 16 + Express 4 + MySQL 8，部署在Docker容器」}

相关代码/配置：
\`\`\`\${粘贴关键代码，如接口路由、配置文件、调用逻辑，标注行数}\`\`\`

已尝试方案：\${如「1. 检查token是否正确传递；2. 重启服务；3. 重新生成token」}，但问题未解决。

需求：

1. 分析可能的错误原因（按可能性排序）
2. 提供具体的排查步骤和验证方法
3. 给出修复方案（附代码修改示例）
   \`\`\`

### 示例（后端接口问题）

> 角色：你是Node.js后端调试专家，擅长解决Express框架的接口认证问题，熟悉JWT和MySQL的交互逻辑。
>
> 问题场景：
>
> - 操作步骤：调用POST /api/user/update接口，携带token和{"nickname":"test"}参数
> - 错误表现：服务器返回500，日志显示「Cannot read property 'id' of undefined」
> - 当前环境：Node.js 14 + Express 4.17 + JWT（jsonwebtoken库）
>
> 相关代码：
> \`\`\`javascript
> // 路由代码
> router.post('/update', authMiddleware, async (req, res) => {
> const { nickname } = req.body;
> const userId = req.user.id; // 第5行报错
> await db.query('UPDATE user SET nickname=? WHERE id=?', [nickname, userId]);
> res.send({ code: 0 });
> });
> \`\`\`
>
> 已尝试方案：1. 检查token解码是否正确；2. 确认authMiddleware中间件正常执行

---

## 三、架构设计类提示语（系统/模块设计）

**核心逻辑**：明确「业务目标+技术约束+扩展需求」，让AI输出可落地的架构方案，而非空泛概念。

### 模板格式

\`\`\`
角色：你是有10年经验的全栈架构师，擅长设计\${业务领域}的系统，熟悉\${技术栈}的架构模式（如微服务/Serverless）。

业务需求：

- 核心功能：\${如「搭建一个支持10万用户的在线教育平台，包含课程发布、视频点播、付费订阅功能」}
- 性能要求：\${如「页面加载时间<2s，视频播放支持1000人同时在线」}
- 安全要求：\${如「用户密码加密存储，视频内容防下载，支付流程符合PCI DSS标准」}

技术约束：

- 开发周期：\${如「3个月内完成MVP」}
- 团队规模：\${如「3前端+2后端+1DevOps」}
- 已有资产：\${如「已购买阿里云ECS，需兼容现有MySQL数据库」}

输出格式：

1. 架构总览图（用文字描述模块关系，如「用户层→CDN→负载均衡→应用服务→数据库」）
2. 核心模块设计（每个模块的职责、技术选型、接口定义）
3. 关键技术方案（如「视频存储用OSS+CDN，支付集成支付宝SDK」）
4. 扩展预案（如「用户量翻倍时的扩容方案」）
   \`\`\`

---

## 四、代码优化类提示语（性能/可读性）

**核心逻辑**：给出「优化目标+评估标准」，让AI不仅改代码，还解释优化原理。

### 模板格式

\`\`\`
角色：你是\${语言}性能优化专家，熟悉\${框架}的底层原理和性能瓶颈解决方案。

待优化代码：
\`\`\`\${粘贴需要优化的代码，标注关键逻辑}\`\`\`

当前问题：\${如「这段React组件在数据量>1000时渲染卡顿」「这个Python函数处理10万行数据需要30秒」}

优化目标：

- 性能：\${如「渲染时间减少50%」「执行时间控制在5秒内」}
- 可读性：\${如「减少嵌套层级，增加注释」「拆分超过200行的函数」}
- 兼容性：\${如「优化后仍支持React 17」「不依赖Python 3.10+特性」}

输出格式：

1. 问题分析（指出原代码的性能瓶颈/可读性问题）
2. 优化后的代码（带注释说明关键修改点）
3. 优化原理（解释为什么这样改能提升性能/可读性）
4. 验证方法（如何测试优化效果，如「用console.time测量执行时间」）
   \`\`\`

---

## 五、学习型编程提示语（理解技术/框架）

**核心逻辑**：用「已知→未知」的递进式提问，让AI输出符合认知规律的解释。

### 模板格式

\`\`\`
角色：你是\${技术领域}的讲师，擅长用通俗语言解释复杂概念，能结合代码示例讲解原理。

我的基础：\${如「了解JavaScript基础，用过Vue 2，但对Vue 3的Composition API不熟悉」「会写简单Python脚本，不懂异步编程」}

学习目标：理解\${技术点}，具体想知道：

1. 核心概念：\${如「什么是闭包？它和作用域的关系是什么？」}
2. 应用场景：\${如「在React中什么时候需要用useCallback？不用会有什么问题？」}
3. 代码示例：\${如「用Python实现一个简单的装饰器，实现函数执行时间统计」}
4. 常见误区：\${如「新手使用Promise时容易犯的3个错误」}

输出要求：

- 避免术语堆砌，用生活类比解释概念（如「把Promise比作外卖订单...」）
- 代码示例从简单到复杂，每步带注释
- 总结关键知识点（用列表或表格）
  \`\`\`

---

## 六、自动化脚本生成提示语（部署/测试/工具）

**核心逻辑**：明确「场景+输入输出+环境」，让AI生成开箱即用的脚本，减少调试成本。

### 模板格式

\`\`\`
角色：你是DevOps工程师，精通\${脚本语言}和\${工具链}，能编写健壮的自动化脚本。

应用场景：\${如「前端项目打包后自动部署到Nginx服务器」「每天凌晨3点备份MySQL数据库并上传到OSS」}

环境信息：

- 操作系统：\${如「Windows 10 / Ubuntu 20.04 / macOS Monterey」}
- 依赖工具：\${如「Node.js 18、npm、ssh」「Python 3.9、requests库」}
- 账号/路径：\${如「服务器IP：192.168.1.100，部署路径：/usr/share/nginx/html」}

脚本需求：

1. 输入：\${如「本地dist文件夹路径」「数据库名称：test_db」}
2. 输出：\${如「部署成功/失败的日志」「备份文件路径：/backup/20240520.sql」}
3. 异常处理：\${如「打包失败时终止脚本并提示」「备份文件大于1GB时压缩」}

输出格式：

1. 完整脚本代码（带详细注释，标注关键步骤）
2. 使用说明（包括权限设置、参数修改、运行命令）
3. 测试方法（如何验证脚本是否生效）
   \`\`\`

---

## 关键原则：让AI「有章可循」

1. **角色锚定前置**：开头就告诉AI「你是谁」（如「你是精通React的前端工程师」），避免AI切换到通用回答模式。
2. **信息分层传递**：先讲业务背景，再讲技术约束，最后讲输出要求，符合AI的理解逻辑。
3. **约束越具体越好**：不说「写一个高效的接口」，而说「接口响应时间<100ms，支持100QPS，用Redis缓存热点数据」。
4. **输出格式结构化**：用列表、代码块、分点等方式约束输出，方便直接复制使用（比如让AI用「\`\`\`javascript」包裹代码）。

这些模板覆盖了90%的编程协作场景，实际使用时根据具体需求微调即可。如果需要针对某类技术（如React组件开发、Python爬虫、Java微服务）的更细分模板，可以告诉我，我会补充具体场景的细节。
